<div class="shop-type-container" [@fadeIn]>
  <nz-breadcrumb style="margin: 24px 0 16px;">
    <nz-breadcrumb-item>
      <i class="anticon anticon-shop"></i>
      <span>店铺</span>
    </nz-breadcrumb-item>
    <nz-breadcrumb-item>门店分类</nz-breadcrumb-item>
  </nz-breadcrumb>

  <div class="toolbar">
    <button nz-button [nzType]="'primary'" [disabled]="!(allChecked || indeterminate)" (click)="batchDel()">批量删除</button>
    <button nz-button [nzType]="'primary'" (click)="gotoEdit()">新增</button>
  </div>
  <nz-table #nzTable
    [nzDataSource]="shopTypeList"
    [nzShowSizeChanger]="true"
    [(nzPageIndex)]="pageIndex"
    [(nzPageSize)]="pageSize"
    >
    <thead nz-thead>
      <tr>
        <th nz-th [nzCheckbox]="true">
          <label nz-checkbox [(ngModel)]="allChecked" (ngModelChange)="updateAllChecked()" [nzIndeterminate]="indeterminate"></label>
        </th>
        <th nz-th><span>排序</span></th>
        <th nz-th><span>门店分组图标</span></th>
        <th nz-th><span>门店分组名称</span></th>
        <th nz-th><span>门店分组简介</span></th>
        <th nz-th><span>操作</span></th>
      </tr>
    </thead>
    <tbody nz-tbody>
      <tr nz-tbody-tr *ngFor="let shopType of nzTable.data">
        <td nz-td [nzCheckbox]="true">
          <label nz-checkbox [(ngModel)]="shopType.checked" (ngModelChange)="updateSingleChecked()"></label>
        </td>
        <td nz-td>{{ shopType.ord }}</td>
        <td nz-td>
          <img class="shop-type-icon" [src]="shopType.icon">
        </td>
        <td nz-td>{{ shopType.type_name }}</td>
        <td nz-td>{{ shopType.type_desc }}</td>
        <td nz-td>
          <a (click)="gotoEdit(shopType.id)">编辑</a>
          <span nz-table-divider></span>
          <a (click)="delShopTypeById(shopType.id)" >删除</a>
        </td>
      </tr>
    </tbody>
  </nz-table>
</div>